<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Hello World</title>
    <script src="https://fb.me/react-15.0.0.js"></script>
    <script src="https://fb.me/react-dom-15.0.0.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.17.0/axios.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser.min.js"></script>
  </head>
  <body>
    <div id="myDiv"></div>

    <script type="text/babel">
        var Greeting = React.createClass({
            getTemp:function(){
                var wheate = 'a';
                var city = "Yerevan";
			    var searchtext = "select item.condition from weather.forecast where woeid in (select woeid from geo.places(1) where text='" + city + "') and u='c'"
                var config = {
                    headers: {
                        // 'Access-Control-Allow-Origin':  'http://127.0.0.1:8080',
                        'Content-Type': 'application/json',
                    }
                };
                axios.get('https://query.yahooapis.com/v1/public/yql?q='+ searchtext + "&format=json",config)
                .then( (response) => {
                    this.wheate = response.data.query.results.channel.item.condition.temp,
                    document.getElementById('myDiv').innerHTML = "The temperature in " + city + " " + this.wheate + "CÕž";
                })
                .catch( (error) => {
                    console.log(error);
                });  
                return(
                    <p>{ }</p>
                )
            }
            render: function() {
               this.getTemp()
                
                return (
                    <p>{  }</p>
                );
            }
        });
        ReactDOM.render(
            <Greeting/>,
            document.getElementById('myDiv'),
        );
    </script>
  </body>
</html>